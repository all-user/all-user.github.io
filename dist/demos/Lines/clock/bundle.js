(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

/* globals YT */
document.addEventListener('DOMContentLoaded', function () {
  var tag = document.createElement('script');
  tag.src = "https://www.youtube.com/iframe_api";
  var firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

  var _require = require('@all-user/ok-blocks');

  var OKBlock = _require.OKBlock;

  var _require2 = require('@all-user/ok-blocks');

  var OKBlocksGroup = _require2.OKBlocksGroup;

  require('@all-user/ok-patterns-lines')(OKBlock);

  var _require3 = require('./helpers/computed_styles.js');

  var computedStyles = _require3.computedStyles;

  var WRAPPER_SIZE = computedStyles().SIZE;
  var GRID_SIZE = WRAPPER_SIZE / 23;
  var MARGIN_SIZE = GRID_SIZE * 2;
  var MIN_BLOCK_SIZE = GRID_SIZE * 3;
  var SEC_BLOCK_SIZE = GRID_SIZE * 8;
  var LINE_WEIGHT = 3;
  var LINE_COLOR = 'transparent';
  // const PADDING_COLOR = '#aaa9a7';
  var PADDING_COLOR = 'white';
  var VIDEO_IDS = ['7eyYe-MN1Nc', '5Ehd4cFEvnQ', 'VOgpV0jwhDc', 'PC77lsC_q_U', 'tyHa3U-iRaM'];
  var getVideoSrc = function getVideoSrc(id) {
    return 'http://www.youtube.com/embed/' + id + '?enablejsapi=1&autoplay=1&controls=0&showinfo=0&modestbranding=0';
  };

  var iframe = document.querySelector('#player');
  var wrapper = document.querySelector('#wrapper');
  var videoIndex = 2;
  var SHOW_DURATION = 6;
  var wrapperWidth = GRID_SIZE * 23;
  var wrapperHeight = GRID_SIZE * 13;
  wrapper.style.width = wrapperWidth + 'px';
  wrapper.style.height = wrapperHeight + 'px';
  iframe.setAttribute('width', wrapperWidth - 2);
  iframe.setAttribute('height', wrapperHeight - 2);
  iframe.setAttribute('src', getVideoSrc(VIDEO_IDS[videoIndex]));
  iframe.addEventListener('load', window.onYouTubeIframeAPIReady);

  var player = void 0;
  window.onYouTubeIframeAPIReady = function () {
    player = new YT.Player('player', {
      events: {
        'onReady': onPlayerReady,
        'onStateChange': onPlayerStateChange
      }
    });
  };

  var onPlayerReady = function onPlayerReady(ev) {
    var video = ev.target;
    video.mute();
    video.setPlaybackRate(1);
  };
  var onPlayerStateChange = function onPlayerStateChange(ev) {
    switch (ev.data) {
      case YT.PlayerState.PLAYING:
        console.log('playing');
        setTimeout(player.pauseVideo.bind(player), SHOW_DURATION * 1000);
        break;
      case YT.PlayerState.ENDED:
      case YT.PlayerState.PAUSED:
        console.log('ended, paused');
        player.loadVideoById(VIDEO_IDS[++videoIndex % VIDEO_IDS.length], player.getDuration() * Math.random());
        break;
      default:
    }
  };

  var minBlocks = new OKBlocksGroup('04:39', { pattern: 'Lines', size: MIN_BLOCK_SIZE, duration: 200 });
  minBlocks.emblems.forEach(function (block, i) {
    block.dom.classList.add('min-block-' + i);
    var style = block.dom.style;
    style.top = 0;
    style.left = (MIN_BLOCK_SIZE + MARGIN_SIZE) * i + 'px';
    block.lineColor = LINE_COLOR;
    block.paddingColor = PADDING_COLOR;
    block.weight = LINE_WEIGHT;
  });
  minBlocks.appendTo(wrapper);
  var secBlocks = new OKBlocksGroup('**', { pattern: 'Lines', size: SEC_BLOCK_SIZE, duration: 200 });
  secBlocks.emblems.forEach(function (block, i) {
    block.dom.classList.add('sec-block-' + i);
    var style = block.dom.style;
    style.top = GRID_SIZE * 5 + 'px';
    style.left = GRID_SIZE * 15 * i + 'px';
    block.lineColor = LINE_COLOR;
    block.paddingColor = PADDING_COLOR;
    block.weight = LINE_WEIGHT;
  });
  secBlocks.appendTo(wrapper);
  secBlocks.options = { loop: true, displayTime: 1000 };
  secBlocks.animateFromString('1112131415161718192021222324252627282930');
  [].concat(_toConsumableArray('_'.repeat(6))).forEach(function (_, i) {
    var mask = document.querySelector('.mask.num-' + i);
    var style = mask.style;
    switch (i) {
      case 0:
      case 1:
      case 2:
      case 3:
        style.top = 0;
        style.left = (MIN_BLOCK_SIZE + MARGIN_SIZE) * i + MIN_BLOCK_SIZE + 'px';
        style.width = MARGIN_SIZE + 'px';
        style.height = MIN_BLOCK_SIZE + 'px';
        break;
      case 4:
        style.top = GRID_SIZE * 5 + 'px';
        style.left = SEC_BLOCK_SIZE + 'px';
        style.width = GRID_SIZE * 7 + 'px';
        style.height = SEC_BLOCK_SIZE + 'px';
        break;
      case 5:
        style.top = GRID_SIZE * 3 + 'px';
        style.left = GRID_SIZE * 0 + 'px';
        style.width = GRID_SIZE * 23 + 'px';
        style.height = GRID_SIZE * 2 + 'px';
        break;
      default:
        throw new Error('exception in switch. expression => ' + i);
    }
  });
});

},{"./helpers/computed_styles.js":2,"@all-user/ok-blocks":"@all-user/ok-blocks","@all-user/ok-patterns-lines":"@all-user/ok-patterns-lines"}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
function computedStyles() {
  var WIDTH = +getComputedStyle(document.querySelector('.container')).width.replace('px', '');
  var PADDING = +getComputedStyle(document.querySelector('.container')).paddingLeft.replace('px', '');
  var SIZE = WIDTH - PADDING * 2;

  return { WIDTH: WIDTH, PADDING: PADDING, SIZE: SIZE };
}

exports.computedStyles = computedStyles;

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvTGluZXMvY2xvY2suanMiLCJzcmMvanMvTGluZXMvaGVscGVycy9jb21wdXRlZF9zdHlsZXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztBQ0NBLFNBQVMsZ0JBQVQsQ0FBMEIsa0JBQTFCLEVBQThDLFlBQU07QUFDbEQsTUFBSSxNQUFNLFNBQVMsYUFBVCxDQUF1QixRQUF2QixDQUFWO0FBQ0EsTUFBSSxHQUFKLEdBQVUsb0NBQVY7QUFDQSxNQUFJLGlCQUFpQixTQUFTLG9CQUFULENBQThCLFFBQTlCLEVBQXdDLENBQXhDLENBQXJCO0FBQ0EsaUJBQWUsVUFBZixDQUEwQixZQUExQixDQUF1QyxHQUF2QyxFQUE0QyxjQUE1Qzs7QUFKa0QsaUJBTWhDLFFBQVEscUJBQVIsQ0FOZ0M7O0FBQUEsTUFNNUMsT0FONEMsWUFNNUMsT0FONEM7O0FBQUEsa0JBTzFCLFFBQVEscUJBQVIsQ0FQMEI7O0FBQUEsTUFPNUMsYUFQNEMsYUFPNUMsYUFQNEM7O0FBUWxELFVBQVEsNkJBQVIsRUFBdUMsT0FBdkM7O0FBUmtELGtCQVV2QixRQUFRLDhCQUFSLENBVnVCOztBQUFBLE1BVTFDLGNBVjBDLGFBVTFDLGNBVjBDOztBQVdsRCxNQUFNLGVBQWUsaUJBQWlCLElBQXRDO0FBQ0EsTUFBTSxZQUFZLGVBQWUsRUFBakM7QUFDQSxNQUFNLGNBQWMsWUFBWSxDQUFoQztBQUNBLE1BQU0saUJBQWlCLFlBQVksQ0FBbkM7QUFDQSxNQUFNLGlCQUFpQixZQUFZLENBQW5DO0FBQ0EsTUFBTSxjQUFjLENBQXBCO0FBQ0EsTUFBTSxhQUFhLGFBQW5COztBQUVBLE1BQU0sZ0JBQWdCLE9BQXRCO0FBQ0EsTUFBTSxZQUFZLENBQ2hCLGFBRGdCLEVBRWhCLGFBRmdCLEVBR2hCLGFBSGdCLEVBSWhCLGFBSmdCLEVBS2hCLGFBTGdCLENBQWxCO0FBT0EsTUFBTSxjQUFjLFNBQWQs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QUFZLENBQTVCO0FBQ0EsY0FBTSxLQUFOLEdBQWlCLFlBQVksRUFBN0I7QUFDQSxjQUFNLE1BQU4sR0FBa0IsWUFBWSxDQUE5QjtBQUNBO0FBQ0Y7QUFDRSxjQUFNLElBQUksS0FBSix5Q0FBZ0QsQ0FBaEQsQ0FBTjtBQXZCRjtBQXlCRCxHQTVCRDtBQTZCRCxDQS9IRDs7Ozs7Ozs7QUNEQSxTQUFTLGNBQVQsR0FBMEI7QUFDeEIsTUFBTSxRQUFVLENBQUMsaUJBQWlCLFNBQVMsYUFBVCxDQUF1QixZQUF2QixDQUFqQixFQUF1RCxLQUF2RCxDQUE2RCxPQUE3RCxDQUFxRSxJQUFyRSxFQUEyRSxFQUEzRSxDQUFqQjtBQUNBLE1BQU0sVUFBVSxDQUFDLGlCQUFpQixTQUFTLGFBQVQsQ0FBdUIsWUFBdkIsQ0FBakIsRUFBdUQsV0FBdkQsQ0FBbUUsT0FBbkUsQ0FBMkUsSUFBM0UsRUFBaUYsRUFBakYsQ0FBakI7QUFDQSxNQUFNLE9BQVUsUUFBUSxVQUFVLENBQWxDOztBQUVBLFNBQU8sRUFBRSxZQUFGLEVBQVMsZ0JBQVQsRUFBa0IsVUFBbEIsRUFBUDtBQUNEOztRQUVRLGMsR0FBQSxjIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qIGdsb2JhbHMgWVQgKi9cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gIGxldCB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgdGFnLnNyYyA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vaWZyYW1lX2FwaVwiO1xuICBsZXQgZmlyc3RTY3JpcHRUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XG4gIGZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRhZywgZmlyc3RTY3JpcHRUYWcpO1xuXG4gIGxldCB7IE9LQmxvY2sgfSA9IHJlcXVpcmUoJ0BhbGwtdXNlci9vay1ibG9ja3MnKTtcbiAgbGV0IHsgT0tCbG9ja3NHcm91cCB9ID0gcmVxdWlyZSgnQGFsbC11c2VyL29rLWJsb2NrcycpO1xuICByZXF1aXJlKCdAYWxsLXVzZXIvb2stcGF0dGVybnMtbGluZXMnKShPS0Jsb2NrKTtcblxuICBjb25zdCB7IGNvbXB1dGVkU3R5bGVzIH0gPSByZXF1aXJlKCcuL2hlbHBlcnMvY29tcHV0ZWRfc3R5bGVzLmpzJyk7XG4gIGNvbnN0IFdSQVBQRVJfU0laRSA9IGNvbXB1dGVkU3R5bGVzKCkuU0laRTtcbiAgY29uc3QgR1JJRF9TSVpFID0gV1JBUFBFUl9TSVpFIC8gMjM7XG4gIGNvbnN0IE1BUkdJTl9TSVpFID0gR1JJRF9TSVpFICogMjtcbiAgY29uc3QgTUlOX0JMT0NLX1NJWkUgPSBHUklEX1NJWkUgKiAzO1xuICBjb25zdCBTRUNfQkxPQ0tfU0laRSA9IEdSSURfU0laRSAqIDg7XG4gIGNvbnN0IExJTkVfV0VJR0hUID0gMztcbiAgY29uc3QgTElORV9DT0xPUiA9ICd0cmFuc3BhcmVudCc7XG4gIC8vIGNvbnN0IFBBRERJTkdfQ09MT1IgPSAnI2FhYTlhNyc7XG4gIGNvbnN0IFBBRERJTkdfQ09MT1IgPSAnd2hpdGUnO1xuICBjb25zdCBWSURFT19JRFMgPSBbXG4gICAgJzdleVllLU1OMU5jJyxcbiAgICAnNUVoZDRjRkV2blEnLFxuICAgICdWT2dwVjBqd2hEYycsXG4gICAgJ1BDNzdsc0NfcV9VJyxcbiAgICAndHlIYTNVLWlSYU0nXG4gIF07XG4gIGNvbnN0IGdldFZpZGVvU3JjID0gaWQgPT4ge1xuICAgIHJldHVybiBgaHR0cDovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8ke2lkfT9lbmFibGVqc2FwaT0xJmF1dG9wbGF5PTEmY29udHJvbHM9MCZzaG93aW5mbz0wJm1vZGVzdGJyYW5kaW5nPTBgO1xuICB9O1xuXG4gIGxldCBpZnJhbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGxheWVyJyk7XG4gIGxldCB3cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3dyYXBwZXInKTtcbiAgbGV0IHZpZGVvSW5kZXggPSAyO1xuICBjb25zdCBTSE9XX0RVUkFUSU9OID0gNjtcbiAgY29uc3Qgd3JhcHBlcldpZHRoID0gR1JJRF9TSVpFICogMjM7XG4gIGNvbnN0IHdyYXBwZXJIZWlnaHQgPSBHUklEX1NJWkUgKiAxMztcbiAgd3JhcHBlci5zdHlsZS53aWR0aCA9IGAke3dyYXBwZXJXaWR0aH1weGA7XG4gIHdyYXBwZXIuc3R5bGUuaGVpZ2h0ID0gYCR7d3JhcHBlckhlaWdodH1weGA7XG4gIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgd3JhcHBlcldpZHRoIC0gMik7XG4gIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHdyYXBwZXJIZWlnaHQgLSAyKTtcbiAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnc3JjJywgZ2V0VmlkZW9TcmMoVklERU9fSURTW3ZpZGVvSW5kZXhdKSk7XG4gIGlmcmFtZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgd2luZG93Lm9uWW91VHViZUlmcmFtZUFQSVJlYWR5KTtcblxuICBsZXQgcGxheWVyO1xuICB3aW5kb3cub25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkgPSAoKSA9PiB7XG4gICAgcGxheWVyID0gbmV3IFlULlBsYXllcigncGxheWVyJywge1xuICAgICAgZXZlbnRzOiB7XG4gICAgICAgICdvblJlYWR5Jzogb25QbGF5ZXJSZWFkeSxcbiAgICAgICAgJ29uU3RhdGVDaGFuZ2UnOiBvblBsYXllclN0YXRlQ2hhbmdlXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3Qgb25QbGF5ZXJSZWFkeSA9IGV2ID0+IHtcbiAgICBsZXQgdmlkZW8gPSBldi50YXJnZXQ7XG4gICAgdmlkZW8ubXV0ZSgpO1xuICAgIHZpZGVvLnNldFBsYXliYWNrUmF0ZSgxKTtcbiAgfTtcbiAgY29uc3Qgb25QbGF5ZXJTdGF0ZUNoYW5nZSA9IGV2ID0+IHtcbiAgICBzd2l0Y2ggKGV2LmRhdGEpIHtcbiAgICBjYXNlIFlULlBsYXllclN0YXRlLlBMQVlJTkc6XG4gICAgICBjb25zb2xlLmxvZygncGxheWluZycpO1xuICAgICAgc2V0VGltZW91dChwbGF5ZXIucGF1c2VWaWRlby5iaW5kKHBsYXllciksIFNIT1dfRFVSQVRJT04gKiAxMDAwKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgWVQuUGxheWVyU3RhdGUuRU5ERUQ6XG4gICAgY2FzZSBZVC5QbGF5ZXJTdGF0ZS5QQVVTRUQ6XG4gICAgICBjb25zb2xlLmxvZygnZW5kZWQsIHBhdXNlZCcpO1xuICAgICAgcGxheWVyLmxvYWRWaWRlb0J5SWQoVklERU9fSURTWysrdmlkZW9JbmRleCAlIFZJREVPX0lEUy5sZW5ndGhdLCBwbGF5ZXIuZ2V0RHVyYXRpb24oKSAqIE1hdGgucmFuZG9tKCkpO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICB9XG4gIH07XG5cbiAgbGV0IG1pbkJsb2NrcyA9IG5ldyBPS0Jsb2Nrc0dyb3VwKCcwNDozOScsIHsgcGF0dGVybjogJ0xpbmVzJywgc2l6ZTogTUlOX0JMT0NLX1NJWkUsIGR1cmF0aW9uOiAyMDAgfSk7XG4gIG1pbkJsb2Nrcy5lbWJsZW1zLmZvckVhY2goKGJsb2NrLCBpKSA9PiB7XG4gICAgYmxvY2suZG9tLmNsYXNzTGlzdC5hZGQoYG1pbi1ibG9jay0ke2l9YCk7XG4gICAgbGV0IHN0eWxlID0gYmxvY2suZG9tLnN0eWxlO1xuICAgIHN0eWxlLnRvcCA9IDA7XG4gICAgc3R5bGUubGVmdCA9IGAkeyhNSU5fQkxPQ0tfU0laRSArIE1BUkdJTl9TSVpFKSAqIGl9cHhgO1xuICAgIGJsb2NrLmxpbmVDb2xvciA9IExJTkVfQ09MT1I7XG4gICAgYmxvY2sucGFkZGluZ0NvbG9yID0gUEFERElOR19DT0xPUjtcbiAgICBibG9jay53ZWlnaHQgPSBMSU5FX1dFSUdIVDtcbiAgfSk7XG4gIG1pbkJsb2Nrcy5hcHBlbmRUbyh3cmFwcGVyKTtcbiAgbGV0IHNlY0Jsb2NrcyA9IG5ldyBPS0Jsb2Nrc0dyb3VwKCcqKicsIHsgcGF0dGVybjogJ0xpbmVzJywgc2l6ZTogU0VDX0JMT0NLX1NJWkUsIGR1cmF0aW9uOiAyMDAgfSk7XG4gIHNlY0Jsb2Nrcy5lbWJsZW1zLmZvckVhY2goKGJsb2NrLCBpKSA9PiB7XG4gICAgYmxvY2suZG9tLmNsYXNzTGlzdC5hZGQoYHNlYy1ibG9jay0ke2l9YCk7XG4gICAgbGV0IHN0eWxlID0gYmxvY2suZG9tLnN0eWxlO1xuICAgIHN0eWxlLnRvcCA9IGAke0dSSURfU0laRSAqIDV9cHhgO1xuICAgIHN0eWxlLmxlZnQgPSBgJHtHUklEX1NJWkUgKiAxNSAqIGl9cHhgO1xuICAgIGJsb2NrLmxpbmVDb2xvciA9IExJTkVfQ09MT1I7XG4gICAgYmxvY2sucGFkZGluZ0NvbG9yID0gUEFERElOR19DT0xPUjtcbiAgICBibG9jay53ZWlnaHQgPSBMSU5FX1dFSUdIVDtcbiAgfSk7XG4gIHNlY0Jsb2Nrcy5hcHBlbmRUbyh3cmFwcGVyKTtcbiAgc2VjQmxvY2tzLm9wdGlvbnMgPSB7IGxvb3A6IHRydWUsIGRpc3BsYXlUaW1lOiAxMDAwIH07XG4gIHNlY0Jsb2Nrcy5hbmltYXRlRnJvbVN0cmluZygnMTExMjEzMTQxNTE2MTcxODE5MjAyMTIyMjMyNDI1MjYyNzI4MjkzMCcpO1xuICBbLi4uJ18nLnJlcGVhdCg2KV0uZm9yRWFjaCgoXywgaSkgPT4ge1xuICAgIGxldCBtYXNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLm1hc2subnVtLSR7aX1gKTtcbiAgICBsZXQgc3R5bGUgPSBtYXNrLnN0eWxlO1xuICAgIHN3aXRjaCAoaSkge1xuICAgIGNhc2UgMDpcbiAgICBjYXNlIDE6XG4gICAgY2FzZSAyOlxuICAgIGNhc2UgMzpcbiAgICAgIHN0eWxlLnRvcCA9IDA7XG4gICAgICBzdHlsZS5sZWZ0ID0gYCR7KE1JTl9CTE9DS19TSVpFICsgTUFSR0lOX1NJWkUpICogaSArIE1JTl9CTE9DS19TSVpFfXB4YDtcbiAgICAgIHN0eWxlLndpZHRoID0gYCR7TUFSR0lOX1NJWkV9cHhgO1xuICAgICAgc3R5bGUuaGVpZ2h0ID0gYCR7TUlOX0JMT0NLX1NJWkV9cHhgO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSA0OlxuICAgICAgc3R5bGUudG9wID0gYCR7R1JJRF9TSVpFICogNX1weGA7XG4gICAgICBzdHlsZS5sZWZ0ID0gYCR7U0VDX0JMT0NLX1NJWkV9cHhgO1xuICAgICAgc3R5bGUud2lkdGggPSBgJHtHUklEX1NJWkUgKiA3fXB4YDtcbiAgICAgIHN0eWxlLmhlaWdodCA9IGAke1NFQ19CTE9DS19TSVpFfXB4YDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgNTpcbiAgICAgIHN0eWxlLnRvcCA9IGAke0dSSURfU0laRSAqIDN9cHhgO1xuICAgICAgc3R5bGUubGVmdCA9IGAke0dSSURfU0laRSAqIDB9cHhgO1xuICAgICAgc3R5bGUud2lkdGggPSBgJHtHUklEX1NJWkUgKiAyM31weGA7XG4gICAgICBzdHlsZS5oZWlnaHQgPSBgJHtHUklEX1NJWkUgKiAyfXB4YDtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYGV4Y2VwdGlvbiBpbiBzd2l0Y2guIGV4cHJlc3Npb24gPT4gJHtpfWApO1xuICAgIH1cbiAgfSk7XG59KTtcbiIsImZ1bmN0aW9uIGNvbXB1dGVkU3R5bGVzKCkge1xuICBjb25zdCBXSURUSCAgID0gK2dldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpKS53aWR0aC5yZXBsYWNlKCdweCcsICcnKTtcbiAgY29uc3QgUEFERElORyA9ICtnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKSkucGFkZGluZ0xlZnQucmVwbGFjZSgncHgnLCAnJyk7XG4gIGNvbnN0IFNJWkUgICAgPSBXSURUSCAtIFBBRERJTkcgKiAyO1xuXG4gIHJldHVybiB7IFdJRFRILCBQQURESU5HLCBTSVpFIH07XG59XG5cbmV4cG9ydCB7IGNvbXB1dGVkU3R5bGVzIH07XG4iXX0=
